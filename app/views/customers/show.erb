<!DOCTYPE html>
<html>
    
<head>
	<title>Home</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">   
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
   
<!------ Include the above in your HEAD tag ---------->

    <style>
		body,
		html {
			margin: 0;
			padding: 0;
			height: 100%;
			background: rgb(2,0,36);
            background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(149,199,20,1) 0%, rgba(0,212,255,1) 96%);
		}
		.user_card {
			height: 400px;
			width: 350px;
			margin-top: auto;
			margin-bottom: auto;
			background: #f39c12;
			position: relative;
			display: flex;
			justify-content: center;
			flex-direction: column;
			padding: 10px;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-moz-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			border-radius: 5px;

		}
		.brand_logo_container {
			position: absolute;
			height: 170px;
			width: 170px;
			top: -75px;
			border-radius: 50%;
			background: #006600;
			padding: 10px;
			text-align: center;
		}
		.brand_logo {
			height: 150px;
			width: 150px;
			border-radius: 50%;
			border: 2px solid white;
		}
		.input-group-text {
			background: #006600 !important;
			color: white !important;
			border: 0 !important;
			border-radius: 0.25rem 0 0 0.25rem !important;
		}
		.input_user,
		}
		}
        .white_text {
            color: white;
        }
        .title {
            display: block;
            margin: 8px 14px 0 14px;
            overflow: hidden;
            font-size: 24px;
            font-weight: bold;
            line-height: 26px;
            color: white;
        }
        .desc {
            display: block;
            margin: 8px 14px 0 14px;
            overflow: hidden;
            font-size: 14px;
            line-height: 16px;
            color: #white;
            text-overflow: ellipsis;
        }
        .container{
            display: flex;
            flex-flow: row;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .not-bootstrap-column-left, .not-bootstrap-column-right {
            display: flex;
            flex-flow: column;
        }
        .not-bootstrap-column-left {
            flex: 1;
        }
        .not-bootstrap-column-right {
            flex: 1.2;
            align-items: flex-end;
        }
        .textBox {
            display: block;
            overflow-y: scroll;
            margin: 30px;
            border: 5px solid #f39c12;
            height: 300px;
            width: 600px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-moz-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }

        .table {
            display: block;
        }

        .white_row {
            background-color: white;
        }

        .button_green {
            background-color: green;
        }

         .button_red {
            background-color: red;
        }

        .table-header {
            position: fixed;
        }

        .wide_column {
            width: 300px
        }

        .orange {
            background-color: #f39c12;
            border: 1px solid #f39c12;
            color: white;
        }
    
        </style>
</head>

<body>
    <div class= "container" style= "position:relative">
        <div class="not-bootstrap-column-left">
                <div class="h-100">
                        <div class="d-flex justify-content-left h-100">
                            <div class="user_card" >
                            
                            <div class="d-flex justify-content-center">
                                <div class="brand_logo_container">
                                    <img src="<%=@customer.img_url%>" class="brand_logo" alt="Logo">
                                </div>
                            </div>

                            <div class="d-flex justify-content-center align-items-start">
                                <div class="info">
                                    <div class="title"><%=@customer.name%></div>
                                    <div class="desc"></div>
                                    <div class="desc"></div>
                                    <div class="desc"></div>
                                </div>
                            </div>

                            <div class="d-flex justify-content-center">
                                <div class="input-group mb-3">
                                    <div class="input-group-append">
                                        <span class="input-group-text"><strong>Username</strong></span>
                                    </div>
                                        <div class="form-control input_user">
                                            <%=@customer.username%></div>
                                </div>
                            </div>	
                            
                                <div class="d-flex justify-content-center">
                                    <div class="input-group mb-3">
                                        <div class="input-group-append">
                                            <span class="input-group-text"><strong>Description</strong></span>
                                        </div>
                                        <div class="form-control"><%=@customer.description%></div>
                                    </div>
                                </div>

                            </div>
                        </div><br>
                 <span> 
                    <a class="btn btn-primary btn-sm" href="<%=restaurants_path%>">Restaurants</a>
                    <a class="btn btn-primary btn-sm" href="<%=edit_customer_path(@customer.id)%>">Edit my Profile</a>
                    <a class="btn btn-primary btn-sm" data-method="DELETE" href="<%=customer_path(@customer.id)%>">Delete my Profile</a><br><br></span>

                    <a class="btn btn-danger btn-sm" href="/logout">Log Out</a>
                </div>
        </div>
        <div class="not-bootstrap-column-right">
                <div class="textBox justify-content-right white_row">
                    <table class="table">
                        <thead>
                            <tr class="orange">
                            <th scope="col" class="wide_column">Review</th>
                            <th scope="col">Restaurant</th>
                            <th scope="col">Rating</th>
                            <th scope="col">Details</th>
                            <th scope="col">Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><% @customer.reviews.each do |review| %>
                            <td><%=review.subject%></td>
                            <td><%=review.restaurant.name%></td>
                            <td><%=review.rating%></td>
                            <td><%= link_to "Show", review_path(review.id) %></td>
                            <td><%=link_to "Delete", review_path(review.id), method: "DELETE", data: {confirm: "Are you sure?"} %></td>
                            </tr>
                            <% end %>

                        </tbody>
                        </table>
                        <a class="btn btn-primary btn-lg btn-block button_green" href="<%= new_review_path %>">Add a Review</a>
                    </div>

                <div class="textBox justify-content-right white_row">
                        <table class="table">
                            <thead>
                                <tr class="orange">
                                <th scope="col" class="wide_column" >Ordered Items</th>
                                <th scope="col">Restaurant</th>
                                <th scope="col">Price</th>
                                <th scope="col">Details</th>
                                <th scope="col">Delete</th>
                                </tr>
                            </thead>
                            <tbody >
                                <tr><% @customer.orders.each do |order| %>
                                <td><%= order.foods.map {|food| food.name } %></td>
                                <td><%=order.restaurant.name%></td>
                                <td><%=order.price%></td>
                                <td><%= link_to "Show", order_path(order.id)%></td>
                                <td><%=link_to "Delete", order_path(order.id), method: "DELETE", data: {confirm: "Are you sure?"} %></td>
                                </tr>
                                <% end %>

                            </tbody>
                        </table>
                        <a class="btn btn-primary btn-lg btn-block button_green" href="<%= new_order_path %>">Add an Order</a>
                </div>
                </div>
        </div>
    </div>


</body>
</html>
